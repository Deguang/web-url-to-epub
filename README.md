# EPUB Maker

ä¸€ä¸ªåŸºäº Node.js çš„å·¥å…·ï¼Œå¯ä»¥ä»ç½‘é¡µURLåˆ—è¡¨åˆ›å»ºEPUBç”µå­ä¹¦ã€‚è¯¥å·¥å…·ä¼šè‡ªåŠ¨æŠ“å–ç½‘é¡µå†…å®¹ï¼Œä¿ç•™æ–‡ç« ç»“æ„å’Œå›¾ç‰‡ï¼Œç”Ÿæˆæ ‡å‡†çš„EPUBæ ¼å¼ç”µå­ä¹¦ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸŒ æ”¯æŒå¤šä¸ªURLæ‰¹é‡å¤„ç†
- ğŸ“„ ä¿ç•™åŸå§‹ç½‘é¡µç»“æ„å’Œæ ¼å¼
- ğŸ“ **æ™ºèƒ½æ³¨è§£å¤„ç†** - è‡ªåŠ¨è¯†åˆ«å’Œä¿ç•™é¡µé¢æ³¨è§£ã€è„šæ³¨ã€å¼•ç”¨ç­‰é‡è¦å†…å®¹
- ğŸ”— **å¯ç‚¹å‡»é“¾æ¥æ”¯æŒ** - æ³¨è§£å’Œè„šæ³¨æ”¯æŒåŒå‘è·³è½¬ï¼Œæå‡é˜…è¯»ä½“éªŒ  
- ğŸ–¼ï¸ **å›¾ç‰‡è‡ªåŠ¨ä¸‹è½½** - è‡ªåŠ¨ä¸‹è½½å¹¶åµŒå…¥ç½‘é¡µå›¾ç‰‡ï¼Œå¤±è´¥æ—¶ä½¿ç”¨å ä½ç¬¦
- ğŸ“š ç”Ÿæˆæ ‡å‡†EPUB 3.0æ ¼å¼
- ğŸ§¹ è‡ªåŠ¨æ¸…ç†å¹¿å‘Šå’Œæ— å…³å†…å®¹
- âš¡ åŸºäºwgetçš„ç¨³å®šç½‘é¡µä¸‹è½½
- ğŸ”„ æ”¯æŒé€—å·åˆ†å‰²å’Œç©ºæ ¼åˆ†å‰²URLè¾“å…¥

## å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd epub-maker

# å®‰è£…ä¾èµ–
npm install

# ç¡®ä¿ç³»ç»Ÿå®‰è£…äº†wget (macOSç”¨æˆ·)
brew install wget

# æˆ–è€… (Linuxç”¨æˆ·)
# sudo apt-get install wget   # Ubuntu/Debian
# sudo yum install wget       # CentOS/RHEL
```

## ä½¿ç”¨æ–¹æ³•

### å‘½ä»¤è¡Œä½¿ç”¨

```bash
# åŸºæœ¬ç”¨æ³• - ç©ºæ ¼åˆ†å‰²
npm start <url1> <url2> <url3>

# é€—å·åˆ†å‰²ç”¨æ³•
npm start "url1,url2,url3"

# ç¤ºä¾‹
npm start https://example.com https://another-site.com
npm start "https://example.com,https://another-site.com,https://third-site.com"

# å¤„ç†å¸¦æ³¨è§£çš„å­¦æœ¯é¡µé¢
npm start "https://browser.engineering/http.html"
```

### æ³¨è§£å¤„ç†åŠŸèƒ½

å·¥å…·ä¼šè‡ªåŠ¨è¯†åˆ«å’Œå¤„ç†ä»¥ä¸‹ç±»å‹çš„æ³¨è§£å†…å®¹ï¼š

- **ğŸ“ é¡µé¢æ³¨è§£**: `.note`, `.annotation`, `.sidenote`, `.margin-note`ç­‰
  - æ·»åŠ å½©è‰²è¾¹æ¡†å’Œå›¾æ ‡æ ‡è¯†
  - æ”¯æŒè­¦å‘Šâš ï¸ã€ä¿¡æ¯â„¹ï¸ã€æç¤ºğŸ’¡ç­‰ä¸åŒç±»å‹
- **ğŸ“š è„šæ³¨å¼•ç”¨**: `.footnote`, `.reference`, `.citation`ç­‰  
  - åˆ›å»ºåŒå‘å¯ç‚¹å‡»é“¾æ¥
  - æ”¯æŒä»æ­£æ–‡è·³è½¬åˆ°è„šæ³¨ï¼Œä»è„šæ³¨è¿”å›æ­£æ–‡
- **ğŸ’¬ å¼•ç”¨å†…å®¹**: `<blockquote>`, `<cite>`, `<q>`ç­‰
  - è‡ªåŠ¨æ·»åŠ å¼•ç”¨æ ‡è¯†å’Œæ¥æºä¿¡æ¯
- **ğŸ”— é“¾æ¥è„šæ³¨**: è‡ªåŠ¨è§£æä¸Šæ ‡é“¾æ¥
  - ä¿æŒåŸæœ‰çš„ç‚¹å‡»è·³è½¬åŠŸèƒ½
  - æ·»åŠ è¿”å›é“¾æ¥ä¾¿äºå¯¼èˆª
- **ğŸ’» ä»£ç æ³¨é‡Š**: è¯†åˆ«å¹¶é«˜äº®æ˜¾ç¤ºä»£ç å—ä¸­çš„æ³¨é‡Š
  - æ”¯æŒ `//`, `#`, `/* */` ç­‰æ³¨é‡Šæ ¼å¼
  - ç”¨ç»¿è‰²æ–œä½“æ ·å¼çªå‡ºæ˜¾ç¤º

æ‰€æœ‰æ³¨è§£éƒ½ä¼šæ·»åŠ æ˜æ˜¾çš„æ ‡è¯†å’Œæ ·å¼ï¼Œå¹¶åœ¨EPUBé˜…è¯»å™¨ä¸­æ”¯æŒç‚¹å‡»äº¤äº’ã€‚

### ç¼–ç¨‹æ–¹å¼ä½¿ç”¨

```javascript
import EpubMaker from './src/EpubMaker.js';

const urlList = [
  'https://example.com/article1',
  'https://example.com/article2'
];

const epubMaker = new EpubMaker({
  title: 'My Article Collection',
  author: 'Author Name',
  language: 'zh'
});

const epubPath = await epubMaker.createEpubFromUrls(urlList);
console.log('EPUB created:', epubPath);
```

## é…ç½®é€‰é¡¹

```javascript
const options = {
  title: 'Web Articles Collection',  // EPUBæ ‡é¢˜
  author: 'Web Scraper',            // ä½œè€…åç§°
  language: 'en',                   // è¯­è¨€ä»£ç 
  outputDir: './output'             // è¾“å‡ºç›®å½•
};
```

## é¡¹ç›®ç»“æ„

```
epub-maker/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.js          # ä¸»å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ EpubMaker.js      # EPUBç”Ÿæˆå™¨ä¸»ç±»
â”‚   â”œâ”€â”€ WgetScraper.js    # åŸºäºwgetçš„ç½‘é¡µæŠ“å–
â”‚   â””â”€â”€ ImageDownloader.js # å›¾ç‰‡ä¸‹è½½å¤„ç†
â”œâ”€â”€ test/
â”‚   â””â”€â”€ example.js        # ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ output/               # EPUBè¾“å‡ºç›®å½•
â””â”€â”€ temp/                 # ä¸´æ—¶æ–‡ä»¶ç›®å½•
```

## ä¾èµ–è¯´æ˜

- **wget**: ç³»ç»Ÿå‘½ä»¤ï¼Œç”¨äºç¨³å®šçš„ç½‘é¡µå†…å®¹ä¸‹è½½
- **epub-gen**: EPUBæ–‡ä»¶ç”Ÿæˆ
- **cheerio**: HTMLè§£æå’Œå¤„ç†
- **axios**: å›¾ç‰‡ä¸‹è½½å¤„ç†
- **fs-extra**: æ–‡ä»¶ç³»ç»Ÿæ“ä½œå¢å¼º

## è¿è¡Œæµ‹è¯•

```bash
npm test
```

## æ³¨æ„äº‹é¡¹

1. éœ€è¦ç³»ç»Ÿå®‰è£…wgetå‘½ä»¤
2. ç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®šï¼Œç”¨äºæŠ“å–ç½‘é¡µå†…å®¹å’Œä¸‹è½½å›¾ç‰‡
3. ç”Ÿæˆçš„EPUBæ–‡ä»¶ä¿å­˜åœ¨ `output/` ç›®å½•ä¸­
4. ä¸´æ—¶æ–‡ä»¶ä¼šåœ¨å¤„ç†å®Œæˆåè‡ªåŠ¨æ¸…ç†

## æ•…éšœæ’é™¤

å¦‚æœé‡åˆ°ç½‘é¡µæŠ“å–å¤±è´¥çš„é—®é¢˜ï¼š
1. æ£€æŸ¥URLæ˜¯å¦å¯è®¿é—®
2. ç¡®ä¿wgetå·²æ­£ç¡®å®‰è£…ï¼š`which wget`
3. æŸäº›ç½‘ç«™å¯èƒ½æœ‰åçˆ¬è™«æœºåˆ¶ï¼Œé¡¹ç›®ä¼šè‡ªåŠ¨é‡è¯•
4. æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è®¾ç½®

## è®¸å¯è¯

MIT License